class No:
    def __init__(self, nome, id):
        self.nome = nome
        self.id = id
        self.prox = None
        self.ant = None

class ListaDupla:
    def __init__(self):
        self.inicio = None

    def inserir(self, nome, id):
        novo = No(nome, id)
        if self.inicio is None:
            self.inicio = novo
        else:
            aux = self.inicio
            while aux.prox is not None:
                aux = aux.prox
            aux.prox = novo
            novo.ant = aux

    def listar(self):
        if self.inicio is None:
            print("Lista vazia")
        else:
            aux = self.inicio
            while aux is not None:
                print("ID:", aux.id, "- Nome:", aux.nome)
                aux = aux.prox

    def remover(self, id):
        aux = self.inicio
        while aux is not None:
            if aux.id == id:
                if aux.ant:
                    aux.ant.prox = aux.prox
                else:
                    self.inicio = aux.prox
                if aux.prox:
                    aux.prox.ant = aux.ant
                print("Nó removido")
                return
            aux = aux.prox
        print("Nó não encontrado")

    def existe(self, busca, por_nome=True):
        aux = self.inicio
        while aux is not None:
            if por_nome and aux.nome == busca:
                print("Nó encontrado: ID:", aux.id, "Nome:", aux.nome)
                return
            elif not por_nome and aux.id == busca:
                print("Nó encontrado: ID:", aux.id, "Nome:", aux.nome)
                return
            aux = aux.prox
        print("Nó não encontrado")

def menu():
    lista = ListaDupla()
    while True:
        print("\n--- MENU ---")
        print("1 - Inserir nó")
        print("2 - Listar nós")
        print("3 - Remover nó")
        print("4 - Verificar se nó existe")
        print("5 - Sair")

        opcao = int(input("Escolha uma opção: "))

        if opcao == 1:
            nome = input("Digite o nome: ")
            id = int(input("Digite o identificador: "))
            lista.inserir(nome, id)
        elif opcao == 2:
            lista.listar()
        elif opcao == 3:
            id = int(input("Digite o identificador do nó a remover: "))
            lista.remover(id)
        elif opcao == 4:
            print("1 - Buscar por nome")
            print("2 - Buscar por identificador")
            escolha = int(input("Escolha a forma de busca: "))
            if escolha == 1:
                nome = input("Digite o nome: ")
                lista.existe(nome, por_nome=True)
            elif escolha == 2:
                id = int(input("Digite o identificador: "))
                lista.existe(id, por_nome=False)
        elif opcao == 5:
            print("Saindo...")
            break
        else:
            print("Opção inválida")

menu()

